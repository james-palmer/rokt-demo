/**
 * TOOLBAR v2 AD MODULE
 * Created By: Kamil Paluch kamilp@complex.com
 * Date: 8-20-2018
 * Modified: 8-27-2018
 */
window.MWD_TOOLBAR=function(a,b,c){var d=this;d.panelWidth=c.panelWidth||"640px",d.panelHeight=c.panelHeight||"360px",d.panelDelay=c.panelDelay||1e3,d.hoverbarSelector=c.hoverbarSelector||"#hoverbar",d.hoverbar=b.querySelector(d.hoverbarSelector),d.hoverbarFilledClass=c.hoverbarFilledClass||"filled",d.panelVisible=!1,d.panelTimeout=null,d.panelShownOnce="true"===a.top.CMNHELPERS.getCookie("tb-panel-shown")?"true":"false",d._gaq=a.top._gaq,d.cssBlockName="mwd_tb_styles",d.useUniversalVideoPlayer=c.useUniversalVideoPlayer||"false";var e={initialize:function(){a.frameElement.style.width="320px",a.frameElement.style.height="53px",a.frameElement.style.position="absolute",a.frameElement.style.bottom="0",a.frameElement.style.right="0";var b=a.top.document.createElement("div"),c=a.top.document.createElement("img"),e=a.top.document.createElement("iframe");b.id="mwd_tb_panel_wrap",c.id="mwd_tb_close_btn",c.src="https://media.complex.com/common/images/controls/close-icon.png",c.alt="Close Toolbar Ad",c.addEventListener("click",function(){this.hidePanel(),a.top.CMNHELPERS.timeBasedRefresh.init()}.bind(this)),e.id="mwd_tb_panel_frame",e.src="about:blank",e.scrolling="no",e.frameBorder="no",e.setAttribute("allowfullscreen",""),e.setAttribute("mozallowfullscreen",""),e.setAttribute("webkitallowfullscreen",""),b.appendChild(c),d.panelFrame=b.appendChild(e),d.panelWrap=a.top.document.body.appendChild(b),null===a.top.document.getElementById(d.cssBlockName)&&a.top.CMNHELPERS.injectStyle(["#mwd_tb_panel_wrap {","\tposition: fixed;","\tleft: 100%;","\tbottom: 55px;","\twidth:"+d.panelWidth+";","\theight:"+d.panelHeight+";","\tbackground: #000;","\t-webkit-transition: all .3s ease-out;","\ttransition: all .3s ease-out;","\tz-index: 1000000;","\topacity: 0;","}","#mwd_tb_panel_wrap.shown {","\tbox-shadow: 0 0 50px 0 rgba(0, 0, 0, .75);","\ttransform: translateX(-100%);","\topacity: 1;","}","#mwd_tb_panel_wrap iframe {","\tposition: absolute;","\tleft: 0;","\ttop: 0;","\twidth: 100%;","\theight: 100%","}","#mwd_tb_close_btn {","\tdisplay: block;","\tposition: absolute;","\tright: 5px;","\ttop: 5px;","\twidth: 40px;","\theight: auto;","\topacity: .6;","\tcursor: pointer;","\t-webkit-transition: opacity .2s ease-out;","\ttransition: opacity .2s ease-out;","\tz-index: 10","}","#mwd_tb_close_btn:hover {","\topacity: 1;","}"].join(""),d.cssBlockName),a.addEventListener("unload",function(){d.panelWrap.parentNode.removeChild(d.panelWrap)})},showPanelTimeoutInit:function(){panelVisible||("true"===d.panelShownOnce?d.panelTimeout=a.setTimeout(e.showPanel,panelDelay):e.showPanel())},showPanelTimeoutCancel:function(){a.clearTimeout(panelTimeout)},showPanel:function(){d.panelVisible||(d.panelVisible=!0,"false"===d.panelShownOnce&&(d.panelShownOnce="true",a.top.CMNHELPERS.setCookie("tb-panel-shown","true",30)),d._gaq.push(["d._trackEvent",campaignName,fullName,"ShowPanel"]),panelWrap.classList.add("shown"),a.setTimeout(function(){"true"===d.useUniversalVideoPlayer?d.panelFrame.contentWindow.document.write(panelFrameContent):d.panelFrame.src=panelFrameLocation},350),d.hoverbar.classList.add(hoverbarFilledClass))},hidePanel:function(){panelVisible&&(panelVisible=!1,d._gaq.push(["d._trackEvent",campaignName,fullName,"HidePanel"]),panelWrap.classList.remove("shown"),a.setTimeout(function(){d.panelFrame.src="about:blank"},350),hoverbar.classList.remove(hoverbarFilledClass))},clickThrough:function(b){d._gaq.push(["d._trackEvent",campaignName,fullName,"ClickThrough"]),a.open(b)},updateQueryStringParameter:function(a,b,c){var d=new RegExp("([?&])"+b+"=.*?(&|$)","i"),e=-1===a.indexOf("?")?"?":"&";return a.match(d)?a.replace(d,"$1"+b+"="+c+"$2"):a+e+b+"="+c}};return e.initialize(),{showPanelTimeoutInit:function(){e.showPanelTimeoutInit()},showPanelTimeoutCancel:function(){e.showPanelTimeoutCancel()},showPanel:function(){e.showPanel()},hidePanel:function(){e.hidePanel()},clickThrough:function(a){e.clickThrough(a)},updateQueryStringParameter:function(a,b,c){return e.updateQueryStringParameter(a,b,c)},panelShownOnce:function(){return d.panelShownOnce}}}(window,document,options);