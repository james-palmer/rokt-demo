/**************************
* Website: www.complex.com
* Module: SuperHero Header Ad
* Developer : Kamil Paluch (kamilp@complex.com)
* Date : 11/16/2016
* Last Modified: 10-22-2020 4:39:01 PM
* All code copyrighted by Complex Networks. All rights reserved.
*
***************************/
window.SUPERHERO=function(a,b,c,d){function e(a){var b=a.offsetWidth,c=getComputedStyle(a);return b-=parseInt(c.paddingLeft)+parseInt(c.paddingRight)}function f(a){var b=a.offsetHeight,c=getComputedStyle(a);return b-=parseInt(c.paddingTop)+parseInt(c.paddingBottom)}function g(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}if(a.console||(a.console={log:function(){},warn:function(){},error:function(){}}),!a.frameElement)return void console.error("Superhero must be served inside of a friendly iframe.");var h=this;h._gaq=[];var i=a.frameElement,j=i.parentNode;h.landscapeToAspectRatio=c.landscapeToAspectRatio||.28125,h.portraitToAspectRatio=c.portraitToAspectRatio||1.125,h.landscapeRosAspectRatio=c.landscapeRosAspectRatio||.5625,h.portraitBreakpoint=c.portraitBreakpoint||900,h.maxPortraitWidth=c.maxPortraitWidth||640,h.maxRosHeaderWidth=c.maxRosHeaderWidth||970,h.maxRosInlineWidth=c.maxRosInlineWidth||740,h.maxToLandscapeWidth=c.maxToLandscapeWidth||-1,h.isHeaderUnit=c.isHeaderUnit||"false",h.isRos=c.isRos||"false",h.wrapId=c.wrapId||"wrap",h.beSticky=c.beSticky||"false",h.onInview="function"==typeof c.onInview?c.onInview:null,h.maxPortraitHeight=h.maxPortraitWidth*h.portraitToAspectRatio,h.wrapper=b.getElementById(h.wrapId),h.limitedLandscapeWidth=0,h.limitedLandscapeHeight=0,"true"===h.isRos?"true"===h.isHeaderUnit?h.limitedLandscapeWidth=h.maxRosHeaderWidth:h.limitedLandscapeWidth=h.maxRosInlineWidth:h.maxToLandscapeWidth>0&&(h.limitedLandscapeWidth=h.maxToLandscapeWidth),"true"===h.isRos&&"false"===h.isHeaderUnit?h.limitedLandscapeHeight=h.limitedLandscapeWidth*h.landscapeRosAspectRatio:h.limitedLandscapeHeight=h.limitedLandscapeWidth*h.landscapeToAspectRatio;var k={cmn_complex:{jsFixes:function(){a.top.document.getElementById("cmn_ad_tag_head").parentNode.style.width="100%",a.top.document.getElementById("cmn_ad_tag_head").parentNode.style.maxWidth="none"}},cmn_kicksonfire:{jsFixes:function(){a.top.document.querySelector(".td-header-container").style.width="100%"}}},l={init:function(){this.loadAnalytics(),this.applyOverrides(),this.assignEvents(),this.resizeElements(),this.makeItStick()},loadAnalytics:function(){try{a.top.CMNHELPERS?a.top.CMNHELPERS.cmnloadAnalytics():a.top.CMHELPERS.cmnloadAnalytics(),h._gaq=a.top._gaq}catch(b){console.log("Unable to setup GA for superhero unit. Please check the template")}},applyOverrides:function(){if(j.style.textAlign="center",i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.top="0",i.style.left="0",i.style.minWidth="0",i.style.marginLeft="auto",i.style.marginRight="auto",i.style.verticalAlign="top",i.setAttribute("allowFullScreen",""),i.setAttribute("webkitallowfullscreen",""),i.setAttribute("mozallowfullscreen",""),l.injectStyle("body > div {height: 100%;}"),a.parent.is_cmnsuperhero=!0,"true"!==h.isRos&&"true"===h.isHeaderUnit){var c="#cmn_ad_tag_head { width: 100% !important; }";c+="#cmn_ad_tag_head { max-width: none !important; }",a.top.document.getElementById("cmn_head_styles")?c+="#cmn_head_styles { padding: 0 !important; }":c+="#cmn_ad_tag_head, .cmn_head_styles { padding-top: 0; }",h.maxToLandscapeWidth>0&&"true"===h.isHeaderUnit&&(a.frameElement.parentNode.style.padding="20px",a.frameElement.parentNode.style.boxSizing="border-box");var d=a.top.cmnunt_site||a.top.catalystConfig&&a.top.catalystConfig.site;if(k.hasOwnProperty(d))try{k[d].jsFixes()}catch(g){}var e=a.top.document.head||a.top.document.getElementsByTagName("head")[0],f=a.top.document.createElement("style");f.type="text/css",f.id="mwd_to_overrides",f.styleSheet?f.styleSheet.cssText=c:f.appendChild(b.createTextNode(c)),e.appendChild(f)}},assignEvents:function(){function b(a){a.forEach(function(a){a.intersectionRatio>0&&l.handleInView(d)})}if(h.deboucedAdjust=g(l.resizeElements,10),a.top.addEventListener("resize",h.deboucedAdjust),h.onInview){var c={rootMargin:"0px",threshold:0},d=new a.parent.IntersectionObserver(b,c);d.observe(i)}a.addEventListener("unload",function(){try{var b=h.observer.takeRecords();h.sendReports(b)}catch(e){}try{a.top.removeEventListener("resize",h.deboucedAdjust),d&&d.disconnect();var c=a.top.document.getElementById("mwd_to_overrides");null!==c&&c.parentNode.removeChild(c)}catch(e){console.log("Unable to do cleanup for Superhero")}}),h.sendReports=function(a){for(var b=0;b<a.length;b++)h._gaq.push(["d._trackEvent","Heavy Ad Removed",full_name,a[b].body.message||"no message"])};try{h.observer=new ReportingObserver(function(a,b){},{types:["intervention"],buffered:!0}),h.observer.observe()}catch(e){}},resizeElements:function(){var a=e(j);h.limitedLandscapeWidth>0&&(i.style.maxWidth=h.limitedLandscapeWidth+"px"),"true"===h.isRos?l.beLandscape():a<h.portraitBreakpoint?l.bePortrait():l.beLandscape()},bePortrait:function(){var a=(f(j),e(j)),b=a*h.portraitToAspectRatio;b>h.maxPortraitHeight&&(b=h.maxPortraitHeight),i.style.height=b+"px",i.style.maxWidth=h.maxPortraitWidth+"px","false"===h.isRos&&h.wrapper&&(h.wrapper.classList.add("portrait"),h.wrapper.classList.remove("ros"))},beLandscape:function(){var a,b=(f(j),e(j));a="true"===h.isRos&&"false"===h.isHeaderUnit?b*h.landscapeRosAspectRatio:b*h.landscapeToAspectRatio,h.limitedLandscapeHeight>0?a>h.limitedLandscapeHeight&&(a=h.limitedLandscapeHeight):i.style.maxWidth="none",i.style.height=a+"px",h.wrapper&&(h.wrapper.classList.remove("portrait"),"true"===h.isRos&&"false"===h.isHeaderUnit&&h.wrapper.classList.add("ros"))},clickThrough:function(b,c){h._gaq.push(["d._trackEvent",campaign_name,full_name,c]),a.open(b,"_blank")},featureTest:function(a,c,d){var e=a+":",f=b.createElement("test"),g=f.style;return g.cssText=d?e+c:e+["-webkit-","-moz-","-ms-","-o-",""].join(c+";"+e)+c+";",g[a]},injectStyle:function(a,c){var d=b.getElementsByTagName("head").item(0),e=b.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=a:e.appendChild(b.createTextNode(a)),c&&(e.id=c),d.appendChild(e)},handleInView:function(a){try{if(h.unbindInview)return;h.unbindInview=h.onInview(),h.unbindInview&&a.unobserve(i)}catch(b){}},makeItStick:function(){function b(){f.style.position="-webkit-sticky",f.style.position="sticky",f.style.top=g.offsetHeight+"px","solecollectorsecure"===a.top.cmnunt_site&&a.parent.document.getElementById("ums-navbar")&&a.parent.document.getElementById("ums-navbar").offsetHeight>0&&(f.style.top=g.offsetHeight+40+"px"),f.style.zIndex=a.parent.getComputedStyle(g).getPropertyValue("z-index")>2?a.parent.getComputedStyle(g).getPropertyValue("z-index")-1:16777271,f.style.transform="translateZ(0)",a.setTimeout(c,2e3)}function c(){var b=f.offsetHeight,c=(g.offsetHeight,a.parent.scrollY);c>b&&(c=b),c=-c+"px",f.style.transition="all 0.4s linear",f.style.transform="translateY("+c+") translateZ(0)",a.setTimeout(function(){f.style.top=null,f.style.zIndex=null,f.style.position=null,f.style.transform=null,f.style.transition=null},450)}if("true"===h.beSticky&&"true"===h.isHeaderUnit){if(a.parent.document.querySelector(".header-video-container"))return!1;if(0==!!l.featureTest("position","sticky"))return!1;var d="",e="";if("cmn_complex"===a.top.cmnunt_site)d=".header-bar__container",e=".base__header-ad";else if("cmn_pigeonsandplanes"===a.top.cmnunt_site)d=".navbar",e="#cmn_head_styles";else if("solecollectorsecure"===a.top.cmnunt_site)d=".navbar",e="#cmn_head_styles";else if("collider"===a.top.cmnunt_site)d="#complex-navbar",e="#cmn_ad_tag_head";else if("cmn_green-label"===a.top.cmnunt_site)d=".main-header-container",e="div[role=advertisement]";else if("theridechannel"===a.top.cmnunt_site)d="#page-header",e=".cmn-ad-background";else if("cmn_hiphopdx"===a.top.cmnunt_site)d="",e=".header-ad";else if("cmn_joblo"===a.top.cmnunt_site)d="",e="#cmn_ad_tag_head";else if("cmn_sneakernews"===a.top.cmnunt_site)d="",e="#cmn_ad_tag_head";else if("cmn_sneakerwatch"===a.top.cmnunt_site)d=".header",e="#cmn_ad_tag_head";else if("cmn_vladtv"===a.top.cmnunt_site)d=".header",e="#cmn_ad_tag_head";else if("allmusic"===a.top.cmnunt_site)d="",e=".header-leaderboard";else if("cmn_audiomack"===a.top.cmnunt_site)d=".main-header",e=".am-partner--top-ad";else{if("cmn_djbooth"!==a.top.cmnunt_site)return!1;d=".nav-div",e="#cmn_head_styles"}try{var f=a.top.document.querySelector(e),g=null;if(g=""===d?a.parent.document.createElement("div"):a.top.document.querySelector(d),null===f||null===g)return!1}catch(i){return!1}b()}}};return l.init(),{bePortrait:function(){l.bePortrait()},beLandscape:function(){l.beLandscape()},clickThrough:function(a,b){l.clickThrough(a,b)}}}(window,document,options);